{"version":3,"sources":["all.js"],"names":["xhr","XMLHttpRequest","_data","open","send","JSON","parse","responseText","selectDow","document","getElementById","areabtnId","addId","selectUpdataList","upDataIndexList","areaSelectId","value","selectValue","e","target","btnValue","str","GooglemapUrl","distance","forEach","item","name","StatusName_","concat","Save_Date_","ZipName_","UnitName_","address_","BeforeDesc_","Lat_","Lng_","innerHTML","areaList","push","areaNew","indexOf","btnStr","index","addEventListener","btnUpdataList"],"mappings":"aAAA,IAAMA,IAAM,IAAIC,eACZC,MAAQ,GADZF,IAAMA,KAAG,MAAOC,wGAChBD,IAAIE,KAAK,MACTF,IAAIG,OAAK,WACLC,MAAKC,KAATC,MAAAN,IAAAO,cAGIC,aAAAA,IAAAA,aAASC,SAAAC,eAAA,cAFbC,UAAAF,SAAAC,eAAA,WAOIE,MAAQH,SAASC,eAAe,OAGpCC,SAASE,mBAETC,gBACsBC,aAAaC,OAC/BF,SAAAA,cAAgBG,GAIhBH,gBAHHI,EAAAC,OAAAH,OAGGF,SAAAA,gBAAgBM,GACnB,IAAAC,EAAA,GAIOC,EAAe,+BAFvBC,EAAST,MACLZ,MAAOsB,QAAP,SAAAC,GACIH,GAAAA,EAAAA,UAAeI,EACfH,OAAWE,EAAfE,aAIY,IAAK,MAHHN,GAAA,8BAAAO,OAAQH,EAAAI,WAAR,aAAAD,OAAQH,EAAAK,SAAR,aAAAF,OAAQH,EAAAM,UAAR,aAAAH,OAAQH,EAAAO,SAAR,aAAAJ,OAAQH,EAAAQ,YAAR,2EAAAL,OAAQN,EAAA,OAAAG,EAAAS,KAAA,IAAAT,EAAAU,KAAA,KAAAV,EAAAS,KAAA,IAAAT,EAAAU,KAAA,IAAAZ,EAAR,+EACDO,MACGL,IAAKE,OACTN,GAAA,2BAAAO,OAAAH,EAAAI,WAAA,aAAAD,OAAAH,EAAAK,SAAA,aAAAF,OAAAH,EAAAM,UAAA,aAAAH,OAAAH,EAAAO,SAAA,aAAAJ,OAAAH,EAAAQ,YAAA,aAAAL,OAAAH,EAAAE,YAAA,sBAAAC,OAAAN,EAAA,OAAAG,EAAAS,KAAA,IAAAT,EAAAU,KAAA,KAAAV,EAAAS,KAAA,IAAAT,EAAAU,KAAA,IAAAZ,EAAA,+EACO,MACH,IAAA,OAKAF,GAAG,4BAAAO,OAAgCH,EAAKI,WAArC,aAAAD,OAA2DH,EAAKK,SAAhE,aAAAF,OAAoFH,EAAKM,UAAzF,aAAAH,OAA8GH,EAAKO,SAAnH,aAAAJ,OAAuIH,EAAKQ,YAA5I,wEAAAL,OAA8NN,EAAe,OAASG,EAAKS,KAAO,IAAMT,EAAKU,KAAO,KAAOV,EAAKS,KAAO,IAAMT,EAAKU,KAAO,IAAMZ,EAA/T,kFADPX,MAAAwB,UAAAf,EAPJ,SAAAb,YAWH,IAAA6B,EAAA,GAbLnC,MAAAsB,QAAA,SAAAC,GAqBIY,EAASC,KAAKb,EAAKK,YAGvB,IAAIS,EAAU,GANlBF,EAAS7B,QAAY,SAAAiB,IACjB,GAAIY,EAAJG,QAAAf,IAQQc,EAAQD,KAAKb,KAIrB,IAAIJ,EAAM,GAPVkB,EAAIA,QAAJ,SAAAd,GACAY,GAASb,kBAAAA,OAAYC,EAAZD,MAAAA,OAAgBC,EAAhBD,eAEDe,aAAQD,UAARjB,EAFR,IAAAoB,EAAA,GAMAF,EAAUf,QAAV,SAAAC,EAAAiB,GACQlB,EAAQ,IACTiB,GAAA,uCAAAb,OAAAc,EAAA,aAAAd,OAAHH,EAAG,SAIPd,UAAUyB,UAAVK,EAxDJ1B,aAAa4B,iBAAYjC,SAAeG,kBACxCF,UAASgC,iBAAYjC,QAAekC","file":"all.js","sourcesContent":["const xhr = new XMLHttpRequest();\r\nlet _data = [];\r\nxhr.open('get', 'https://soweb.kcg.gov.tw/open1999/ServiceRequestsQuery.asmx/ServiceRequestsQuery?startdate=&enddate=');\r\nxhr.send(null);\r\nxhr.onload = function () {\r\n    _data = JSON.parse(xhr.responseText);\r\n    selectDow()\r\n}\r\n\r\nlet areaSelectId = document.getElementById('areaSelect');\r\nlet areabtnId = document.getElementById('areabtn');\r\nlet addId = document.getElementById('app');\r\n\r\nareaSelectId.addEventListener('change', selectUpdataList);\r\nareabtnId.addEventListener('click', btnUpdataList);\r\n\r\nfunction selectUpdataList() {\r\n    let selectValue = areaSelectId.value;\r\n    upDataIndexList(selectValue);\r\n}\r\nfunction btnUpdataList(e) {\r\n    let btnValue = e.target.value;\r\n    upDataIndexList(btnValue);\r\n}\r\n\r\nfunction upDataIndexList(name) {\r\n    let str = '';\r\n    let GooglemapUrl = \"https://www.google.com/maps/\";\r\n    let distance = '20z';\r\n    _data.forEach(item => {\r\n        if (item.ZipName_ == name) {\r\n            switch (item.StatusName_) {\r\n                case \"待確認\":\r\n                    str += `<tr class=\"bg-warning\"><td>${item.Save_Date_}</td><td>${item.ZipName_}</td><td>${item.UnitName_}</td><td>${item.address_}</td><td>${item.BeforeDesc_}</td><td><i class=\"fas fa-question-circle fa-2x\"></i></td><td><a href=\"${GooglemapUrl + 'dir/' + item.Lat_ + ',' + item.Lng_ + '/@' + item.Lat_ + ',' + item.Lng_ + ',' + distance}\" target=\"_blank\"><i class=\"fas fa-map-marker-alt fa-2x\"></i></a></td></li>`;\r\n                    break;\r\n                case \"解除管制\":\r\n                    str += `<tr class=\"bg-gray\"><td>${item.Save_Date_}</td><td>${item.ZipName_}</td><td>${item.UnitName_}</td><td>${item.address_}</td><td>${item.BeforeDesc_}</td><td>${item.StatusName_}</td><td><a href=\"${GooglemapUrl + 'dir/' + item.Lat_ + ',' + item.Lng_ + '/@' + item.Lat_ + ',' + item.Lng_ + ',' + distance}\" target=\"_blank\"><i class=\"fas fa-map-marker-alt fa-2x\"></i></a></td></li>`;\r\n                    break;\r\n                case \"處理完成\":\r\n                    str += `<tr class=\"bg-green\"><td>${item.Save_Date_}</td><td>${item.ZipName_}</td><td>${item.UnitName_}</td><td>${item.address_}</td><td>${item.BeforeDesc_}</td><td><i class=\"fas fa-check-circle fa-2x\"></i></td><td><a href=\"${GooglemapUrl + 'dir/' + item.Lat_ + ',' + item.Lng_ + '/@' + item.Lat_ + ',' + item.Lng_ + ',' + distance}\" target=\"_blank\"><i class=\"fas fa-map-marker-alt fa-2x\"></i></a></td></li>`;\r\n                    break;\r\n            }\r\n        }\r\n    });\r\n    addId.innerHTML = str;\r\n}\r\n\r\nfunction selectDow() {\r\n    let areaList = [];\r\n    _data.forEach(item => {\r\n        areaList.push(item.ZipName_);\r\n    });\r\n\r\n    let areaNew = [];\r\n    areaList.forEach(item => {\r\n        if (areaNew.indexOf(item) == -1) {\r\n            areaNew.push(item);\r\n        }\r\n    });\r\n\r\n    let str = '';\r\n    areaNew.forEach(item => {\r\n        str += `<option value=\"${item}\">${item}</option>`;\r\n    });\r\n    areaSelectId.innerHTML = str;\r\n\r\n    let btnStr = '';\r\n    areaNew.forEach((item, index) => {\r\n        if (index < 4) {\r\n            btnStr += `<input type=\"button\" class=\"btn btn-${index}\" value=\"${item}\">`;\r\n        }\r\n    })\r\n    areabtnId.innerHTML = btnStr;\r\n\r\n}\r\n\r\n"]}