"use strict";var xhr=new XMLHttpRequest,_data=[];xhr.open("get","https://soweb.kcg.gov.tw/open1999/ServiceRequestsQuery.asmx/ServiceRequestsQuery?startdate=&enddate="),xhr.send(null),xhr.onload=function(){_data=JSON.parse(xhr.responseText),selectDow()};var areaSelectId=document.getElementById("areaSelect"),areabtnId=document.getElementById("areabtn"),addId=document.getElementById("app");function selectUpdataList(){upDataIndexList(areaSelectId.value)}function btnUpdataList(t){upDataIndexList(t.target.value)}function upDataIndexList(a){var e="",c="https://www.google.com/maps/@",n="20z";_data.forEach(function(t){if(t.ZipName_==a)switch(t.StatusName_){case"待確認":e+='<tr class="bg-warning"><td>'.concat(t.Save_Date_,"</td><td>").concat(t.ZipName_,"</td><td>").concat(t.UnitName_,"</td><td>").concat(t.address_,"</td><td>").concat(t.BeforeDesc_,'</td><td><i class="fas fa-question-circle fa-2x"></i></td><td><a href="').concat(c+t.Lat_+","+t.Lng_+","+n,'" target="_blank"><i class="fas fa-map-marker-alt fa-2x"></i></a></td></li>');break;case"解除管制":e+='<tr class="bg-gray"><td>'.concat(t.Save_Date_,"</td><td>").concat(t.ZipName_,"</td><td>").concat(t.UnitName_,"</td><td>").concat(t.address_,"</td><td>").concat(t.BeforeDesc_,"</td><td>").concat(t.StatusName_,'</td><td><a href="').concat(c+t.Lat_+","+t.Lng_+","+n,'" target="_blank"><i class="fas fa-map-marker-alt fa-2x"></i></a></td></li>');break;case"處理完成":e+='<tr class="bg-green"><td>'.concat(t.Save_Date_,"</td><td>").concat(t.ZipName_,"</td><td>").concat(t.UnitName_,"</td><td>").concat(t.address_,"</td><td>").concat(t.BeforeDesc_,'</td><td><i class="fas fa-check-circle fa-2x"></i></td><td><a href="').concat(c+t.Lat_+","+t.Lng_+","+n,'" target="_blank"><i class="fas fa-map-marker-alt fa-2x"></i></a></td></li>')}}),addId.innerHTML=e}function selectDow(){var a=[];_data.forEach(function(t){a.push(t.ZipName_)});var e=[];a.forEach(function(t){-1==e.indexOf(t)&&e.push(t)});var c="";e.forEach(function(t){c+='<option value="'.concat(t,'">').concat(t,"</option>")}),areaSelectId.innerHTML=c;var n="";e.forEach(function(t,a){a<4&&(n+='<input type="button" class="btn btn-'.concat(a,'" value="').concat(t,'">'))}),areabtnId.innerHTML=n}areaSelectId.addEventListener("change",selectUpdataList),areabtnId.addEventListener("click",btnUpdataList);
//# sourceMappingURL=all.js.map
