{"version":3,"sources":["all.js"],"names":["xhr","XMLHttpRequest","_data","open","send","onload","JSON","parse","responseText","selectDow","areaSelectId","document","getElementById","areabtnId","addId","addEventListener","selectUpdataList","btnUpdataList","selectValue","value","upDataIndexList","e","btnValue","target","name","str","GooglemapUrl","distance","forEach","item","ZipName_","StatusName_","Save_Date_","UnitName_","address_","BeforeDesc_","Lat_","Lng_","innerHTML","areaList","push","console","log","areaNew","indexOf","btnStr","index"],"mappings":"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","file":"all.js","sourcesContent":["var xhr = new XMLHttpRequest();\r\nvar _data = [];\r\nxhr.open('get', 'https://soweb.kcg.gov.tw/open1999/ServiceRequestsQuery.asmx/ServiceRequestsQuery?startdate=&enddate=');\r\nxhr.send(null);\r\nxhr.onload = function () {\r\n    _data = JSON.parse(xhr.responseText);\r\n    selectDow()\r\n}\r\n\r\nlet areaSelectId = document.getElementById('areaSelect');\r\nlet areabtnId = document.getElementById('areabtn');\r\nlet addId = document.getElementById('app');\r\n\r\nareaSelectId.addEventListener('change', selectUpdataList);\r\nareabtnId.addEventListener('click', btnUpdataList);\r\n\r\nfunction selectUpdataList() {\r\n    let selectValue = areaSelectId.value;\r\n    upDataIndexList(selectValue);\r\n}\r\nfunction btnUpdataList(e) {\r\n    let btnValue = e.target.value;\r\n    upDataIndexList(btnValue);\r\n}\r\n\r\nfunction upDataIndexList(name){\r\n    let str ='';\r\n    let GooglemapUrl =\"https://www.google.com/maps/@\";\r\n    let distance = '20z';\r\n    _data.forEach(item => {\r\n        if(item.ZipName_ == name){\r\n            switch (item.StatusName_){\r\n                case \"待確認\":\r\n                str += `<tr class=\"bg-warning\"><td>${item.Save_Date_}</td><td>${item.ZipName_}</td><td>${item.UnitName_}</td><td>${item.address_}</td><td>${item.BeforeDesc_}</td><td><i class=\"fas fa-question-circle fa-2x\"></i></td><td><a href=\"${GooglemapUrl+item.Lat_+','+item.Lng_+','+distance}\" target=\"_blank\"><i class=\"fas fa-map-marker-alt fa-2x\"></i></a></td></li>`;\r\n                break;\r\n                case \"解除管制\":\r\n                str += `<tr class=\"bg-gray\"><td>${item.Save_Date_}</td><td>${item.ZipName_}</td><td>${item.UnitName_}</td><td>${item.address_}</td><td>${item.BeforeDesc_}</td><td>${item.StatusName_}</td><td><a href=\"${GooglemapUrl+item.Lat_+','+item.Lng_+','+distance}\" target=\"_blank\"><i class=\"fas fa-map-marker-alt fa-2x\"></i></a></td></li>`;\r\n                break;\r\n                case \"處理完成\":\r\n                str += `<tr class=\"bg-green\"><td>${item.Save_Date_}</td><td>${item.ZipName_}</td><td>${item.UnitName_}</td><td>${item.address_}</td><td>${item.BeforeDesc_}</td><td><i class=\"fas fa-check-circle fa-2x\"></i></td><td><a href=\"${GooglemapUrl+item.Lat_+','+item.Lng_+','+distance}\" target=\"_blank\"><i class=\"fas fa-map-marker-alt fa-2x\"></i></a></td></li>`;\r\n                break;\r\n            }\r\n        }\r\n    });\r\n    addId.innerHTML = str;\r\n}\r\n\r\nfunction selectDow() {\r\n    let areaList = [];\r\n    _data.forEach(item => {\r\n        areaList.push(item.ZipName_);\r\n    });\r\n    console.log(areaList);\r\n    let areaNew = [];\r\n    areaList.forEach(item => {\r\n        if (areaNew.indexOf(item) == -1) {\r\n            areaNew.push(item);\r\n        }\r\n    });\r\n    console.log(areaNew);\r\n    let str = '';\r\n    areaNew.forEach(item => {\r\n        str += `<option value=\"${item}\">${item}</option>`;\r\n    });\r\n    areaSelectId.innerHTML = str;\r\n    let btnStr ='';\r\n    areaNew.forEach((item,index)=>{\r\n        if(index < 4){\r\n            btnStr += `<input type=\"button\" class=\"btn btn-${index}\" value=\"${item}\">`;\r\n        }\r\n    })\r\n    areabtnId.innerHTML = btnStr;\r\n\r\n}\r\n\r\n"]}