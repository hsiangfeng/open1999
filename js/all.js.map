{"version":3,"sources":["all.js"],"names":["xhr","XMLHttpRequest","_data","open","send","JSON","parse","responseText","selectDow","document","getElementById","areabtnId","addId","selectUpdataList","upDataIndexList","areaSelectId","value","selectValue","e","target","btnValue","str","GooglemapUrl","distance","forEach","item","name","StatusName_","concat","Save_Date_","ZipName_","UnitName_","address_","BeforeDesc_","Lat_","Lng_","areaNew","btnStr","index","push","innerHTML","indexOf","addEventListener","btnUpdataList"],"mappings":"aAAA,IAAMA,IAAM,IAAIC,eACZC,MAAQ,GADZF,IAAMA,KAAG,MAAOC,wGAChBD,IAAIE,KAAK,MACTF,IAAIG,OAAK,WACLC,MAAKC,KAATC,MAAAN,IAAAO,cAGIC,aAAAA,IAAAA,aAASC,SAAAC,eAAA,cAFbC,UAAAF,SAAAC,eAAA,WAOIE,MAAQH,SAASC,eAAe,OAGpCC,SAASE,mBAETC,gBACsBC,aAAaC,OAC/BF,SAAAA,cAAgBG,GAIhBH,gBAHHI,EAAAC,OAAAH,OAGGF,SAAAA,gBAAgBM,GACnB,IAAAC,EAAA,GAIOC,EAAe,+BAFvBC,EAAST,MACLZ,MAAOsB,QAAP,SAAAC,GACIH,GAAAA,EAAAA,UAAeI,EACfH,OAAWE,EAAfE,aAIY,IAAK,MAHHN,GAAA,oDAAAO,OACiBH,EAAAI,WADjB,mCAAAD,OAEOD,EAAbG,SAFM,aAAAF,OAENH,EAAAM,UAFM,mCAAAH,OAGFH,EAAAO,SAHE,mCAAAJ,OAIKH,EAAAQ,YAJL,uHAAAL,OAUiBN,EAAe,OAASG,EAAKS,KAAO,IAAMT,EAAKU,KAAO,KAAOV,EAAKS,KAAO,IAAMT,EAAKU,KAAO,IAAMZ,EAVlH,sHAwBE,MAVJ,IAAK,OAWLF,GAAA,iDAAAO,OACOH,EAAAI,WADP,mCAAAD,OAUIH,EAAAK,SAVJ,mCAAAF,OAvBJH,EAAAM,UAuBI,mCAAAH,OAYPH,EAAAO,SAZO,mCAAAJ,OAzBZH,EAAAQ,YAyBY,mCAAAL,OAJUH,EAAKE,YAIf,4CAAAC,OAcZN,EAAA,OAAAG,EAAAS,KAAA,IAAAT,EAAAU,KAAA,KAAAV,EAAAS,KAAA,IAAAT,EAAAU,KAAA,IAAAZ,EAdY,gGADI,MAkBXf,IAAY,OACjBa,GAAA,kDAAAO,OAhB2CH,EAAKI,WAgBhD,mCAAAD,OACcH,EAAIK,SADlB,mCAAAF,OAEuBE,EAAnBC,UAFJ,mCAAAH,OACAH,EAAAO,SADA,mCAAAJ,OAZsBH,EAAKQ,YAY3B,oHAAAL,OAMyBN,EAAA,OAAAG,EAAAS,KAAA,IAAAT,EAAAU,KAAA,KAAAV,EAAAS,KAAA,IAAAT,EAAAU,KAAA,IAAAZ,EANzB,mGAaAa,MAAQZ,UAAQH,EAGhBN,SAAAA,YAEA,IAAIsB,EAAJ,GACAD,MAAQZ,QAAQ,SAAAC,GACRa,EAAJC,KAAed,EAAAK,YADnB,IAAAM,EAAA,GAKAzB,EAAU6B,QAAV,SAAAf,IAEH,GAAAW,EAAAK,QAAAhB,IAlBWW,EAAQG,KAAKd,KAIrB,IAAIJ,EAAM,GACVe,EAAQZ,QAAQ,SAAAC,GACZJ,GAAG,kBAAAO,OAAsBH,EAAtB,MAAAG,OAA+BH,EAA/B,eAEPV,aAAayB,UAAYnB,EAEzB,IAAIgB,EAAS,GACbD,EAAQZ,QAAQ,SAACC,EAAMa,GACfA,EAAQ,IACRD,GAAM,uCAAAT,OAA2CU,EAA3C,aAAAV,OAA4DH,EAA5D,SAGdd,UAAU6B,UAAYH,EAtF1BtB,aAAa2B,iBAAYhC,SAAeG,kBACxCF,UAAS+B,iBAAYhC,QAAeiC","file":"all.js","sourcesContent":["const xhr = new XMLHttpRequest();\r\nlet _data = []; \r\nxhr.open('get', 'https://soweb.kcg.gov.tw/open1999/ServiceRequestsQuery.asmx/ServiceRequestsQuery?startdate=&enddate=');\r\nxhr.send(null);\r\nxhr.onload = function () {\r\n    _data = JSON.parse(xhr.responseText);\r\n    selectDow()\r\n}\r\n\r\nlet areaSelectId = document.getElementById('areaSelect');\r\nlet areabtnId = document.getElementById('areabtn');\r\nlet addId = document.getElementById('app');\r\n\r\nareaSelectId.addEventListener('change', selectUpdataList);\r\nareabtnId.addEventListener('click', btnUpdataList);\r\n\r\nfunction selectUpdataList() {\r\n    let selectValue = areaSelectId.value;\r\n    upDataIndexList(selectValue);\r\n}\r\nfunction btnUpdataList(e) {\r\n    let btnValue = e.target.value;\r\n    upDataIndexList(btnValue);\r\n}\r\n\r\nfunction upDataIndexList(name) {\r\n    let str = '';\r\n    let GooglemapUrl = \"https://www.google.com/maps/\";\r\n    let distance = '20z';\r\n    _data.forEach(item => {\r\n        if (item.ZipName_ == name) {\r\n            switch (item.StatusName_) {\r\n                case \"待確認\":\r\n                    str += `\r\n                    <tr class=\"bg-warning\"><td>${item.Save_Date_}</td>\r\n                    <td>${item.ZipName_}</td><td>${item.UnitName_}</td>\r\n                    <td>${item.address_}</td>\r\n                    <td>${item.BeforeDesc_}</td>\r\n                    <td><i class=\"fas fa-question-circle fa-2x\"></i></td>\r\n                    <td><a href=\"${GooglemapUrl + 'dir/' + item.Lat_ + ',' + item.Lng_ + '/@' + item.Lat_ + ',' + item.Lng_ + ',' + distance}\" target=\"_blank\"><i class=\"fas fa-map-marker-alt fa-2x\"></i></a>\r\n                    </td>\r\n                    `;\r\n                    break;\r\n                case \"解除管制\":\r\n                    str += `\r\n                    <tr class=\"bg-gray\"><td>${item.Save_Date_}</td>\r\n                    <td>${item.ZipName_}</td>\r\n                    <td>${item.UnitName_}</td>\r\n                    <td>${item.address_}</td>\r\n                    <td>${item.BeforeDesc_}</td>\r\n                    <td>${item.StatusName_}</td>\r\n                    <td><a href=\"${GooglemapUrl + 'dir/' + item.Lat_ + ',' + item.Lng_ + '/@' + item.Lat_ + ',' + item.Lng_ + ',' + distance}\" target=\"_blank\"><i class=\"fas fa-map-marker-alt fa-2x\"></i></a>\r\n                    </td>`;\r\n                    break;\r\n                case \"處理完成\":\r\n                    str += `\r\n                    <tr class=\"bg-green\"><td>${item.Save_Date_}</td>\r\n                    <td>${item.ZipName_}</td>\r\n                    <td>${item.UnitName_}</td>\r\n                    <td>${item.address_}</td>\r\n                    <td>${item.BeforeDesc_}</td>\r\n                    <td><i class=\"fas fa-check-circle fa-2x\"></i></td>\r\n                    <td><a href=\"${GooglemapUrl + 'dir/' + item.Lat_ + ',' + item.Lng_ + '/@' + item.Lat_ + ',' + item.Lng_ + ',' + distance}\" target=\"_blank\"><i class=\"fas fa-map-marker-alt fa-2x\"></i></a>\r\n                    </td>`;\r\n                    break;\r\n            }\r\n        }\r\n    });\r\n    addId.innerHTML = str;\r\n}\r\n\r\nfunction selectDow() {\r\n    let areaList = [];\r\n    _data.forEach(item => {\r\n        areaList.push(item.ZipName_);\r\n    });\r\n\r\n    let areaNew = [];\r\n    areaList.forEach(item => {\r\n        if (areaNew.indexOf(item) == -1) {\r\n            areaNew.push(item);\r\n        }\r\n    });\r\n\r\n    let str = '';\r\n    areaNew.forEach(item => {\r\n        str += `<option value=\"${item}\">${item}</option>`;\r\n    });\r\n    areaSelectId.innerHTML = str;\r\n\r\n    let btnStr = '';\r\n    areaNew.forEach((item, index) => {\r\n        if (index < 4) {\r\n            btnStr += `<input type=\"button\" class=\"btn btn-${index}\" value=\"${item}\">`;\r\n        }\r\n    })\r\n    areabtnId.innerHTML = btnStr;\r\n\r\n}\r\n\r\n"]}